# Shell 游戏
<!-- 2020.03.22 -->

每个木工都需要一个良好，坚固，可靠的工作台，以便在工作时将工件固定在合适的高度。 工作台成为木工车间的中心，制造商一次又一次地将其恢复为成型的形状。

对于处理文本文件的程序员而言，该工作台是命令行。 在 shell 提示符下，您可以调用管道的全部功能，并使用管道以原始开发人员梦寐以求的方式将它们组合在一起。 在 shell 里面，您可以启动应用程序，调试器，浏览器，编辑器和实用程序。 您可以搜索文件，查询系统状态以及过滤输出。 通过对 shell 进行编程，可以为经常执行的活动构建复杂的宏命令。

对于使用GUI界面和集成开发环境（IDE）的程序员来说，这似乎是一个极端的位置。 毕竟，您不能通过指向和单击来完成所有工作吗？

简单的答案是“不。” GUI界面很棒，对于某些简单的操作，它们更快，更方便。移动文件，阅读电子邮件和键入字母都是您在图形环境中可能要做的所有事情。但是，如果您使用 GUI 进行所有工作，那么您将失去环境的全部功能。您将无法自动执行常见任务，也无法使用所有可用工具的强大功能。而且您将无法组合工具来创建自定义的宏工具。图形用户界面的好处是 WYSIWYG - 即所见即所得。缺点是 WYSIAYG，即所见即所有。

GUI 环境通常仅限于其设计人员想要的功能。如果您需要超越设计者提供的模型，那么通常就不走运了-而且，通常情况下，您确实需要超越模型。务实的程序员不仅会削减代码，开发对象模型，编写文档或自动化构建过程，我们还会做所有这些事情。任何一种工具的范围通常都限于该工具应执行的任务。例如，假设您需要在IDE中集成一个代码预处理器（以实现按合同设计，多处理编译指示等）。除非IDE的设计者明确为此功能提供了挂钩，否则您将无法做到。

---
## 提示 26 使用命令 shell 的力量
---

熟悉 shell 后，您会发现工作效率飞升。 是否需要创建由Java代码显式导入的所有唯一软件包名称的列表？ 以下内容将其存储在名为“列表”的文件中:

```shell
grep '^import ' *.java |
    sed -e's/.*import  *//' -e's/;.*$//' |
    sort -u >list
```

如果你还没有花了很多时间来研究你所使用的系统shell命令的能力，这样就可能出现艰巨。 但是，投入一些精力来熟悉您的外壳，事情很快就会开始发生。 试一试您的命令行shell，您会惊奇地发现它使您的工作效率更高。

## 你自己的 Shell

与木工将自定义工作区的方式相同，开发人员应自定义其shell。 这通常还涉及更改您使用的终端程序的配置。常见

更改包括：

- 设置颜色主题。您可能需要花费许多小时来尝试各种特定主题的在线可用主题。

- 配置提示。可以配置提示框，告诉您准备输入命令的外壳，可以将其配置为显示几乎所有您想要的信息（以及一些您不想要的东西）。个人喜好无处不在：我们倾向于喜欢简单的提示，它们会缩短当前目录名称和版本控制状态以及时间。

- 别名和 shell 函数。通过将常用命令转换为简单别名来简化工作流程。也许您定期更新您的Linux机器，但永远不会记住您是更新和升级，还是升级和更新。创建一个别名：

      alias apt-up = 'sudo apt-get update && sudo apt-get upgrade'

  也许是您一次不小心使用 rm 命令删除了文件，但经常是一次。编写一个别名，以便以后始终提示：

      alias rm ='rm -iv'

- 命令补全。大多数 Shell 都会补全命令和文件的名称：输入前几个字符，单击Tab，然后将其填满。但是，您可以更进一步，将 shell 配置为识别您输入的命令并提供特定于上下文的补全。有些甚至根据当前目录自定义完成。

您将花费大量时间住在其中一个外壳中。像一只寄居蟹一样，成为自己的家。

## 相关内容包括

- 话题 16 [_纯文本的力量_](./纯文本的力量.md)
- 话题 13 [_原型和贴纸_](../Chapter2/原型和贴纸.md)
- 话题 21 [_文本处理_](./文本处理.md)
- 话题 50 [_实用入门套件_](../Chapter9/实用入门套件.md)
- 话题 30 [_转换编程_](../Chapter5/转换编程.md)

## 挑战

- 您当前是否正在 GUI 中手动执行某些操作？ 您是否曾经将涉及多个单独“单击此按钮”，“选择此项目”步骤的指示传递给同事？ 这些可以自动化吗？

- 每当您迁移到新环境时，请务必找出可用的 shell 。 看看是否可以带上当前的 shell 。

- 研究当前 shell 的替代方案。 如果遇到问题，您的 shell 无法解决，请查看替代 shell 是否会更好。
